<!-- chi tiết hoàn thành -->
<div class="container" *ngIf="invoiceDetail.trangThai === 1">
    <div class="row mt-3">
        <div class="d-flex justify-content-between">
            <h2>Chi tiết đơn hàng: {{invoiceDetail.maHoaDon}} | Hoàn thành | {{invoiceDetail.ngayTao}}</h2>
        </div>
    </div>
    <div class="row border" >
        <div class="row mt-3">
            <h2>Thông tin khách hàng</h2>
        </div>
        <div class="row">
            <div class="col-2 mt-2">
                <p>Tên khách hàng:</p>
                <p>Số điện thoại:</p>
                <p>Địa chỉ: </p>
                <p>Ghi chú:</p>
            </div>
            <div class="col-5 mt-2">
                <p>{{invoiceDetail.tenKhachHang}}</p>
                <p>{{invoiceDetail.soDienThoai}}</p>
                <p>{{invoiceDetail.diaChi}}, {{invoiceDetail.phuongXa}}, {{invoiceDetail.quanHuyen}}, {{invoiceDetail.tinhThanh}}</p>
                <p>{{invoiceDetail.ghiChu}}</p>
            </div>
            <div class="col-3 mt-2">
                <p>Ngày giao hàng:</p>
                <p>Trạng thái:</p>
                <p>Phương thức thanh toán: </p>
            </div>
            <div class="col-2 mt-2">
                <p>{{invoiceDetail.ngayCapNhat}}</p>
                <p *ngIf="invoiceDetail.trangThai === 1">Hoàn thành</p>
                <p *ngIf="invoiceDetail.trangThai === 2">Chờ xác nhận</p>
                <p *ngIf="invoiceDetail.trangThai === 3">Chờ lấy hàng</p>
                <p *ngIf="invoiceDetail.trangThai === 4">Đang giao hàng</p>
                <p *ngIf="invoiceDetail.trangThai === 5">Đã giao hàng</p>
                <p *ngIf="invoiceDetail.trangThai === 6">Đã hủy</p>
                <p *ngIf="invoiceDetail.phuongThucThanhToan === 0">Tiền mặt</p>
                <p *ngIf="invoiceDetail.phuongThucThanhToan === 1">Thanh toán VNpay</p>
            </div>
        </div>
    </div>
    <div class="row border mt-3" >
        <div class="row mt-3">
            <h2>Thông tin đơn hàng</h2>
        </div>
        <hr>
        <div class="row">
            <table class="table table-hover">
                <thead>
                    <tr>
                        <th scope="col">Sản phẩm</th>
                        <th scope="col">Số lượng</th>
                        <th scope="col">Đơn giá</th>
                        <th scope="col">Tổng tiền</th>
                    </tr>
                </thead>
                <tbody>
                    <tr *ngFor="let c of invoiceDetail.listHoaDonChiTiet; let i = index">
                        <td>
                            <div class="table-product-detail">
                                <img class="table-image" src="{{c.chiTietSanPham.anhSanPhams[0]?.ten}}" alt="">
                                <div>
                                    <p>Tên: {{c.chiTietSanPham.sanPham.ten}}</p>
                                    <p>Mã: {{c.chiTietSanPham.ma}}</p>
                                    <p>Size: {{c.chiTietSanPham.kichCo.size}}</p>
                                    <p>Màu sắc: {{c.chiTietSanPham.mauSac.ten}}</p>
                                    <p>Chất liệu: {{c.chiTietSanPham.chatLieuGiay.ten}}</p>
                                    <p>Loại đế: {{c.chiTietSanPham.chatLieuDeGiay.ten}}</p>
                                </div>
                            </div>
                        </td>
                        <td>{{c.soLuong }}</td>
                        <td>{{c.donGia | currency:'VND'}}</td>
                        <td>{{c.soLuong*c.donGia | currency:'VND'}}</td>
                    </tr>
                </tbody>
            </table>
        </div>
    </div>
    <div class="row border mt-3 mb-5" >
        <div class="row">
            <div class="col-8" >
                <h2 class="mt-3" *ngIf="traHang !== undefined">Thông tin đơn hàng trả </h2>
                <hr *ngIf="traHang !== undefined">
                <table class="table table-hover" *ngIf="traHang !== undefined">
                    <thead>
                        <tr>
                            <th scope="col">Sản phẩm</th>
                            <th scope="col">Số lượng</th>
                            <th scope="col">Đơn giá</th>
                            <th scope="col">Tổng tiền</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr *ngFor="let c of traHang.listTraHangChiTiet; let i = index">
                            <td>
                                <div class="table-product-detail">
                                    <img class="table-image" src="{{c.hoaDonChiTiet.chiTietSanPham.anhSanPhams[0]?.ten}}" alt="">
                                    <div>
                                        <p>Tên: {{c.hoaDonChiTiet.chiTietSanPham.sanPham.ten}}</p>
                                        <p>Mã: {{c.hoaDonChiTiet.chiTietSanPham.ma}}</p>
                                        <p>Size: {{c.hoaDonChiTiet.chiTietSanPham.kichCo.size}}</p>
                                        <p>Màu sắc: {{c.hoaDonChiTiet.chiTietSanPham.mauSac.ten}}</p>
                                        <p>Chất liệu: {{c.hoaDonChiTiet.chiTietSanPham.chatLieuGiay.ten}}</p>
                                        <p>Loại đế: {{c.hoaDonChiTiet.chiTietSanPham.chatLieuDeGiay.ten}}</p>
                                    </div>
                                </div>
                            </td>
                            <td>{{c.hoaDonChiTiet.soLuong}}</td>
                            <td>{{c.hoaDonChiTiet.donGia | currency:'VND'}}</td>
                            <td>{{c.soLuong*c.donGia | currency:'VND'}}</td>
                        </tr>
                    </tbody>
                </table>
            </div>
            <div class="col-4 mb-5">
                <h2 class="mt-3">Thông tin thanh toán</h2>
                <hr>
                <h3><b>Tổng giá hàng gốc:</b> {{invoiceDetail.tongTien | currency:'VND'}}</h3>
                <h3 *ngIf="invoiceDetail.phieuGiamGia === null"><b>Voucher đã sử dụng:</b> </h3>
                <h3 *ngIf="invoiceDetail.phieuGiamGia.hinhThucGiamGia === false"><b>Voucher đã sử dụng:</b>
                    {{invoiceDetail.phieuGiamGia.chietKhau}}%</h3>
                <h3 *ngIf="invoiceDetail.phieuGiamGia.hinhThucGiamGia === true"><b>Voucher đã sử dụng:</b>
                    {{invoiceDetail.phieuGiamGia.chietKhau | currency:'VND'}}</h3>
                <h3><b>Phí vận chuyển:</b> {{invoiceDetail.phiVanChuyen | currency:'VND'}}</h3>
                <h3 *ngIf="traHang !== undefined"><b>Tổng giá hàng trả:</b> {{tongGiaHangTra | currency:'VND'}}</h3>
                <hr>
                <h3 *ngIf="traHang === undefined"><b>Tổng tiền thanh toán:</b> {{invoiceDetail.tongTienSauGiam + invoiceDetail.phiVanChuyen | currency:'VND'}}</h3>
                <h3 *ngIf="traHang !== undefined"><b>Tổng tiền thanh toán:</b> {{invoiceDetail.tongTienSauGiam | currency:'VND'}}</h3>
                <!-- <h3><b>Tổng tiền trả khách</b> {{tongTienTraKhach | currency:'VND'}}</h3> -->
                <h3><b class="text-danger">*</b>Ghi chú</h3>
                <textarea class="ghiChu w-100" value="{{invoiceDetail.ghiChu}}" disabled></textarea>
            </div>
        </div>
    </div>
    <div class="row mb-5"></div>
</div>

<!-- chi tiết chờ xác nhận -->
<div class="container" *ngIf="invoiceDetail.trangThai === 2">
    <div class="row mt-3">
        <div class="d-flex justify-content-between">
            <h2>Chi tiết đơn hàng: {{invoiceDetail.maHoaDon}} | Chờ xác nhận | {{invoiceDetail.ngayTao}}</h2>
        </div>
    </div>
    <div class="row border" >
        <div class="row mt-3">
            <h2>Thông tin khách hàng</h2>
        </div>
        <div class="row">
            <div class="col-2 mt-2">
                <p>Tên khách hàng:</p>
                <p>Số điện thoại:</p>
                <p>Địa chỉ: </p>
                <p>Ghi chú:</p>
            </div>
            <div class="col-5 mt-2">
                <p>{{invoiceDetail.tenKhachHang}}</p>
                <p>{{invoiceDetail.soDienThoai}}</p>
                <p>{{invoiceDetail.diaChi}}, {{invoiceDetail.phuongXa}}, {{invoiceDetail.quanHuyen}}, {{invoiceDetail.tinhThanh}}</p>
                <p>{{invoiceDetail.ghiChu}}</p>
            </div>
            <div class="col-3 mt-2">
                <p>Ngày giao hàng:</p>
                <p>Trạng thái:</p>
                <p>Phương thức thanh toán: </p>
            </div>
            <div class="col-2 mt-2">
                <p>{{invoiceDetail.ngayCapNhat}}</p>
                <p *ngIf="invoiceDetail.trangThai === 1">Hoàn thành</p>
                <p *ngIf="invoiceDetail.trangThai === 2">Chờ xác nhận</p>
                <p *ngIf="invoiceDetail.trangThai === 3">Chờ lấy hàng</p>
                <p *ngIf="invoiceDetail.trangThai === 4">Đang giao hàng</p>
                <p *ngIf="invoiceDetail.trangThai === 5">Đã giao hàng</p>
                <p *ngIf="invoiceDetail.trangThai === 6">Đã hủy</p>
                <p *ngIf="invoiceDetail.phuongThucThanhToan === 0">Khi nhận hàng</p>
                <p *ngIf="invoiceDetail.phuongThucThanhToan === 1">Thanh toán VNpay</p>
            </div>
        </div>
    </div>
    <div class="row border mt-3 mb-5" >
        <div class="row">
            <div class="col-8">
                <h2 class="mt-3">Thông tin đơn hàng </h2>
                <hr>
                <table class="table table-hover">
                    <thead>
                        <tr>
                            <th scope="col">Sản phẩm</th>
                            <th scope="col">Số lượng</th>
                            <th scope="col">Đơn giá</th>
                            <th scope="col">Tổng tiền</th>
                            <th scope="col"></th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr *ngFor="let c of invoiceDetail.listHoaDonChiTiet; let i = index">
                            <td>
                                <div class="table-product-detail">
                                    <img class="table-image" src="{{c.chiTietSanPham.anhSanPhams[0]?.ten}}" alt="">
                                    <div>
                                        <p>Tên: {{c.chiTietSanPham.sanPham.ten}}</p>
                                        <p>Mã: {{c.chiTietSanPham.ma}}</p>
                                        <p>Size: {{c.chiTietSanPham.kichCo.size}}</p>
                                        <p>Màu sắc: {{c.chiTietSanPham.mauSac.ten}}</p>
                                        <p>Chất liệu: {{c.chiTietSanPham.chatLieuGiay.ten}}</p>
                                        <p>Loại đế: {{c.chiTietSanPham.chatLieuDeGiay.ten}}</p>
                                    </div>
                                </div>
                            </td>
                            <td>{{c.soLuong}} </td>
                            <td>{{c.donGia | currency:'VND'}}</td>
                            <td>{{c.soLuong*c.donGia | currency:'VND'}}</td>
                        </tr>
                    </tbody>
                </table>
            </div>
            <div class="col-4 mb-5">
                <h2 class="mt-3">Thông tin thanh toán</h2>
                <hr>
                <h3><b>Tổng giá hàng gốc:</b> {{invoiceDetail.tongTien | currency:'VND'}}</h3>
                <h3 *ngIf="invoiceDetail.phieuGiamGia === null"><b>Voucher đã sử dụng:</b> </h3>
                <h3 *ngIf="invoiceDetail.phieuGiamGia.hinhThucGiamGia === false"><b>Voucher đã sử dụng:</b>
                    {{invoiceDetail.phieuGiamGia.chietKhau}}%</h3>
                <h3 *ngIf="invoiceDetail.phieuGiamGia.hinhThucGiamGia === true"><b>Voucher đã sử dụng:</b>
                    {{invoiceDetail.phieuGiamGia.chietKhau | currency:'VND'}}</h3>
                <h3><b>Phí vận chuyển:</b> {{invoiceDetail.phiVanChuyen | currency:'VND'}}</h3>
                <h3><b>Tổng tiền thanh toán:</b> {{invoiceDetail.tongTienSauGiam + invoiceDetail.phiVanChuyen | currency:'VND'}}</h3>
                <!-- <h3><b>Tổng giá hàng trả:</b> {{tongGiaSanPhamTra | currency:'VND'}}</h3> -->
                <hr>
                <!-- <h3><b>Tổng tiền trả khách</b> {{tongTienTraKhach | currency:'VND'}}</h3> -->
                <h3><b class="text-danger">*</b>Ghi chú</h3>
                <textarea class="ghiChu w-100" value="{{invoiceDetail.ghiChu}}" disabled></textarea>
                <button class="btn btn-success mt-2 w-100" >Chờ lấy hàng</button>
                <button class="btn btn-danger mt-2 w-100" >Hủy đơn</button>

            </div>
        </div>
    </div>
    <div class="row mb-5"></div>
</div>


<!-- chi tiết chờ lấy hàng -->
<div class="container" *ngIf="invoiceDetail.trangThai === 3">
    <div class="row mt-3">
        <div class="d-flex justify-content-between">
            <h2>Chi tiết đơn hàng: {{invoiceDetail.maHoaDon}} | Chờ lấy hàng | {{invoiceDetail.ngayCapNhat}}</h2>
        </div>
    </div>
    <div class="row border" >
        <div class="row mt-3">
            <h2>Thông tin khách hàng</h2>
        </div>
        <div class="row">
            <div class="col-2 mt-2">
                <p>Tên khách hàng:</p>
                <p>Số điện thoại:</p>
                <p>Địa chỉ: </p>
                <p>Ghi chú:</p>
            </div>
            <div class="col-5 mt-2">
                <p>{{invoiceDetail.tenKhachHang}}</p>
                <p>{{invoiceDetail.soDienThoai}}</p>
                <p>{{invoiceDetail.diaChi}}, {{invoiceDetail.phuongXa}}, {{invoiceDetail.quanHuyen}}, {{invoiceDetail.tinhThanh}}</p>
                <p>{{invoiceDetail.ghiChu}}</p>
            </div>
            <div class="col-3 mt-2">
                <p>Ngày giao hàng:</p>
                <p>Trạng thái:</p>
                <p>Phương thức thanh toán: </p>
            </div>
            <div class="col-2 mt-2">
                <p>{{invoiceDetail.ngayCapNhat}}</p>
                <p *ngIf="invoiceDetail.trangThai === 1">Hoàn thành</p>
                <p *ngIf="invoiceDetail.trangThai === 2">Chờ xác nhận</p>
                <p *ngIf="invoiceDetail.trangThai === 3">Chờ lấy hàng</p>
                <p *ngIf="invoiceDetail.trangThai === 4">Đang giao hàng</p>
                <p *ngIf="invoiceDetail.trangThai === 5">Đã giao hàng</p>
                <p *ngIf="invoiceDetail.trangThai === 6">Đã hủy</p>
                <p *ngIf="invoiceDetail.phuongThucThanhToan === 0">Khi nhận hàng</p>
                <p *ngIf="invoiceDetail.phuongThucThanhToan === 1">Thanh toán VNpay</p>
            </div>
        </div>
    </div>
    <div class="row border mt-3 mb-5" >
        <div class="row">
            <div class="col-8">
                <h2 class="mt-3">Thông tin đơn hàng </h2>
                <hr>
                <table class="table table-hover">
                    <thead>
                        <tr>
                            <th scope="col">Sản phẩm</th>
                            <th scope="col">Số lượng</th>
                            <th scope="col">Đơn giá</th>
                            <th scope="col">Tổng tiền</th>
                            <th scope="col"></th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr *ngFor="let c of invoiceDetail.listHoaDonChiTiet; let i = index">
                            <td>
                                <div class="table-product-detail">
                                    <img class="table-image" src="{{c.chiTietSanPham.anhSanPhams[0]?.ten}}" alt="">
                                    <div>
                                        <p>Tên: {{c.chiTietSanPham.sanPham.ten}}</p>
                                        <p>Mã: {{c.chiTietSanPham.ma}}</p>
                                        <p>Size: {{c.chiTietSanPham.kichCo.size}}</p>
                                        <p>Màu sắc: {{c.chiTietSanPham.mauSac.ten}}</p>
                                        <p>Chất liệu: {{c.chiTietSanPham.chatLieuGiay.ten}}</p>
                                        <p>Loại đế: {{c.chiTietSanPham.chatLieuDeGiay.ten}}</p>
                                    </div>
                                </div>
                            </td>
                            <td>{{c.soLuong}} </td>
                            <td>{{c.donGia | currency:'VND'}}</td>
                            <td>{{c.soLuong*c.donGia | currency:'VND'}}</td>
                        </tr>
                    </tbody>
                </table>
            </div>
            <div class="col-4 mb-5">
                <h2 class="mt-3">Thông tin thanh toán</h2>
                <hr>
                <h3><b>Tổng giá hàng gốc:</b> {{invoiceDetail.tongTien | currency:'VND'}}</h3>
                <h3 *ngIf="invoiceDetail.phieuGiamGia === null"><b>Voucher đã sử dụng:</b> </h3>
                <h3 *ngIf="invoiceDetail.phieuGiamGia.hinhThucGiamGia === false"><b>Voucher đã sử dụng:</b>
                    {{invoiceDetail.phieuGiamGia.chietKhau}}%</h3>
                <h3 *ngIf="invoiceDetail.phieuGiamGia.hinhThucGiamGia === true"><b>Voucher đã sử dụng:</b>
                    {{invoiceDetail.phieuGiamGia.chietKhau | currency:'VND'}}</h3>
                <h3><b>Phí vận chuyển:</b> {{invoiceDetail.phiVanChuyen | currency:'VND'}}</h3>
                <h3><b>Tổng tiền thanh toán:</b> {{invoiceDetail.tongTienSauGiam + invoiceDetail.phiVanChuyen | currency:'VND'}}</h3>
                <!-- <h3><b>Tổng giá hàng trả:</b> {{tongGiaSanPhamTra | currency:'VND'}}</h3> -->
                <hr>
                <!-- <h3><b>Tổng tiền trả khách</b> {{tongTienTraKhach | currency:'VND'}}</h3> -->
                <h3><b class="text-danger">*</b>Ghi chú</h3>
                <textarea class="ghiChu w-100" value="{{invoiceDetail.ghiChu}}" disabled></textarea>
                <button class="btn btn-success mt-2 w-100" >Giao hàng</button>
                <button class="btn btn-danger mt-2 w-100" >Chờ xác nhận</button>

            </div>
        </div>
    </div>
    <div class="row mb-5"></div>
</div>

<!-- chi tiết đang giao hàng -->
<div class="container" *ngIf="invoiceDetail.trangThai === 4">
    <div class="row mt-3">
        <div class="d-flex justify-content-between">
            <h2>Chi tiết đơn hàng: {{invoiceDetail.maHoaDon}} | Đang giao hàng | {{invoiceDetail.ngayCapNhat}}</h2>
        </div>
    </div>
    <div class="row border" >
        <div class="row mt-3">
            <h2>Thông tin khách hàng</h2>
        </div>
        <div class="row">
            <div class="col-2 mt-2">
                <p>Tên khách hàng:</p>
                <p>Số điện thoại:</p>
                <p>Địa chỉ: </p>
                <p>Ghi chú:</p>
            </div>
            <div class="col-5 mt-2">
                <p>{{invoiceDetail.tenKhachHang}}</p>
                <p>{{invoiceDetail.soDienThoai}}</p>
                <p>{{invoiceDetail.diaChi}}, {{invoiceDetail.phuongXa}}, {{invoiceDetail.quanHuyen}}, {{invoiceDetail.tinhThanh}}</p>
                <p>{{invoiceDetail.ghiChu}}</p>
            </div>
            <div class="col-3 mt-2">
                <p>Ngày giao hàng:</p>
                <p>Trạng thái:</p>
                <p>Phương thức thanh toán: </p>
            </div>
            <div class="col-2 mt-2">
                <p>{{invoiceDetail.ngayCapNhat}}</p>
                <p *ngIf="invoiceDetail.trangThai === 1">Hoàn thành</p>
                <p *ngIf="invoiceDetail.trangThai === 2">Chờ xác nhận</p>
                <p *ngIf="invoiceDetail.trangThai === 3">Chờ lấy hàng</p>
                <p *ngIf="invoiceDetail.trangThai === 4">Đang giao hàng</p>
                <p *ngIf="invoiceDetail.trangThai === 5">Đã giao hàng</p>
                <p *ngIf="invoiceDetail.trangThai === 6">Đã hủy</p>
                <p *ngIf="invoiceDetail.phuongThucThanhToan === 0">Khi nhận hàng</p>
                <p *ngIf="invoiceDetail.phuongThucThanhToan === 1">Thanh toán VNpay</p>
            </div>
        </div>
    </div>
    <div class="row border mt-3 mb-5" >
        <div class="row">
            <div class="col-8">
                <h2 class="mt-3">Thông tin đơn hàng </h2>
                <hr>
                <table class="table table-hover">
                    <thead>
                        <tr>
                            <th scope="col">Sản phẩm</th>
                            <th scope="col">Số lượng</th>
                            <th scope="col">Đơn giá</th>
                            <th scope="col">Tổng tiền</th>
                            <th scope="col"></th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr *ngFor="let c of invoiceDetail.listHoaDonChiTiet; let i = index">
                            <td>
                                <div class="table-product-detail">
                                    <img class="table-image" src="{{c.chiTietSanPham.anhSanPhams[0]?.ten}}" alt="">
                                    <div>
                                        <p>Tên: {{c.chiTietSanPham.sanPham.ten}}</p>
                                        <p>Mã: {{c.chiTietSanPham.ma}}</p>
                                        <p>Size: {{c.chiTietSanPham.kichCo.size}}</p>
                                        <p>Màu sắc: {{c.chiTietSanPham.mauSac.ten}}</p>
                                        <p>Chất liệu: {{c.chiTietSanPham.chatLieuGiay.ten}}</p>
                                        <p>Loại đế: {{c.chiTietSanPham.chatLieuDeGiay.ten}}</p>
                                    </div>
                                </div>
                            </td>
                            <td>{{c.soLuong}} </td>
                            <td>{{c.donGia | currency:'VND'}}</td>
                            <td>{{c.soLuong*c.donGia | currency:'VND'}}</td>
                        </tr>
                    </tbody>
                </table>
            </div>
            <div class="col-4 mb-5">
                <h2 class="mt-3">Thông tin thanh toán</h2>
                <hr>
                <h3><b>Tổng giá hàng gốc:</b> {{invoiceDetail.tongTien | currency:'VND'}}</h3>
                <h3 *ngIf="invoiceDetail.phieuGiamGia === null"><b>Voucher đã sử dụng:</b> </h3>
                <h3 *ngIf="invoiceDetail.phieuGiamGia.hinhThucGiamGia === false"><b>Voucher đã sử dụng:</b>
                    {{invoiceDetail.phieuGiamGia.chietKhau}}%</h3>
                <h3 *ngIf="invoiceDetail.phieuGiamGia.hinhThucGiamGia === true"><b>Voucher đã sử dụng:</b>
                    {{invoiceDetail.phieuGiamGia.chietKhau | currency:'VND'}}</h3>
                <h3><b>Phí vận chuyển:</b> {{invoiceDetail.phiVanChuyen | currency:'VND'}}</h3>
                <h3><b>Tổng tiền thanh toán:</b> {{invoiceDetail.tongTienSauGiam + invoiceDetail.phiVanChuyen | currency:'VND'}}</h3>
                <!-- <h3><b>Tổng giá hàng trả:</b> {{tongGiaSanPhamTra | currency:'VND'}}</h3> -->
                <hr>
                <!-- <h3><b>Tổng tiền trả khách</b> {{tongTienTraKhach | currency:'VND'}}</h3> -->
                <h3><b class="text-danger">*</b>Ghi chú</h3>
                <textarea class="ghiChu w-100" value="{{invoiceDetail.ghiChu}}" disabled></textarea>
                <button class="btn btn-success mt-2 w-100" >Hoàn thành</button>
                <button class="btn btn-danger mt-2 w-100" >Chờ lấy hàng</button>

            </div>
        </div>
    </div>
    <div class="row mb-5"></div>
</div>

<!-- chi tiết đã giao hàng -->
<div class="container" *ngIf="invoiceDetail.trangThai === 5">
    <div class="row mt-3">
        <div class="d-flex justify-content-between">
            <h2>Chi tiết đơn hàng: {{invoiceDetail.maHoaDon}} | Đã giao hàng | {{invoiceDetail.ngayCapNhat}}</h2>
        </div>
    </div>
    <div class="row border" >
        <div class="row mt-3">
            <h2>Thông tin khách hàng</h2>
        </div>
        <div class="row">
            <div class="col-2 mt-2">
                <p>Tên khách hàng:</p>
                <p>Số điện thoại:</p>
                <p>Địa chỉ: </p>
                <p>Ghi chú:</p>
            </div>
            <div class="col-5 mt-2">
                <p>{{invoiceDetail.tenKhachHang}}</p>
                <p>{{invoiceDetail.soDienThoai}}</p>
                <p>{{invoiceDetail.diaChi}}, {{invoiceDetail.phuongXa}}, {{invoiceDetail.quanHuyen}}, {{invoiceDetail.tinhThanh}}</p>
                <p>{{invoiceDetail.ghiChu}}</p>
            </div>
            <div class="col-3 mt-2">
                <p>Ngày giao hàng:</p>
                <p>Trạng thái:</p>
                <p>Phương thức thanh toán: </p>
            </div>
            <div class="col-2 mt-2">
                <p>{{invoiceDetail.ngayCapNhat}}</p>
                <p *ngIf="invoiceDetail.trangThai === 1">Hoàn thành</p>
                <p *ngIf="invoiceDetail.trangThai === 2">Chờ xác nhận</p>
                <p *ngIf="invoiceDetail.trangThai === 3">Chờ lấy hàng</p>
                <p *ngIf="invoiceDetail.trangThai === 4">Đang giao hàng</p>
                <p *ngIf="invoiceDetail.trangThai === 5">Đã giao hàng</p>
                <p *ngIf="invoiceDetail.trangThai === 6">Đã hủy</p>
                <p *ngIf="invoiceDetail.phuongThucThanhToan === 0">Khi nhận hàng</p>
                <p *ngIf="invoiceDetail.phuongThucThanhToan === 1">Thanh toán VNpay</p>
            </div>
        </div>
    </div>
    <div class="row border mt-3" >
        <div class="row mt-3">
            <h2>Thông tin đơn hàng</h2>
        </div>
        <hr>
        <div class="row">
            <table class="table table-hover">
                <thead>
                    <tr>
                        <th scope="col">Sản phẩm</th>
                        <th scope="col">Số lượng</th>
                        <th scope="col">Đơn giá</th>
                        <th scope="col">Tổng tiền</th>
                    </tr>
                </thead>
                <tbody>
                    <tr *ngFor="let c of invoiceDetail.listHoaDonChiTiet; let i = index">
                        <td>
                            <div class="table-product-detail">
                                <img class="table-image" src="{{c.chiTietSanPham.anhSanPhams[0]?.ten}}" alt="">
                                <div>
                                    <p>Tên: {{c.chiTietSanPham.sanPham.ten}}</p>
                                    <p>Mã: {{c.chiTietSanPham.ma}}</p>
                                    <p>Size: {{c.chiTietSanPham.kichCo.size}}</p>
                                    <p>Màu sắc: {{c.chiTietSanPham.mauSac.ten}}</p>
                                    <p>Chất liệu: {{c.chiTietSanPham.chatLieuGiay.ten}}</p>
                                    <p>Loại đế: {{c.chiTietSanPham.chatLieuDeGiay.ten}}</p>
                                </div>
                            </div>
                        </td>
                        <td>{{c.soLuong }}</td>
                        <td>{{c.donGia | currency:'VND'}}</td>
                        <td>{{c.soLuong*c.donGia | currency:'VND'}}</td>
                    </tr>
                </tbody>
            </table>
        </div>
    </div>
    <div class="row border mt-3 mb-5" >
        <div class="row">
            <div class="col-8" >
                <h2 class="mt-3" *ngIf="traHang !== undefined">Thông tin đơn hàng trả </h2>
                <hr *ngIf="traHang !== undefined">
                <table class="table table-hover" *ngIf="traHang !== undefined">
                    <thead>
                        <tr>
                            <th scope="col">Sản phẩm</th>
                            <th scope="col">Số lượng</th>
                            <th scope="col">Đơn giá</th>
                            <th scope="col">Tổng tiền</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr *ngFor="let c of traHang.listTraHangChiTiet; let i = index">
                            <td>
                                <div class="table-product-detail">
                                    <img class="table-image" src="{{c.hoaDonChiTiet.chiTietSanPham.anhSanPhams[0]?.ten}}" alt="">
                                    <div>
                                        <p>Tên: {{c.hoaDonChiTiet.chiTietSanPham.sanPham.ten}}</p>
                                        <p>Mã: {{c.hoaDonChiTiet.chiTietSanPham.ma}}</p>
                                        <p>Size: {{c.hoaDonChiTiet.chiTietSanPham.kichCo.size}}</p>
                                        <p>Màu sắc: {{c.hoaDonChiTiet.chiTietSanPham.mauSac.ten}}</p>
                                        <p>Chất liệu: {{c.hoaDonChiTiet.chiTietSanPham.chatLieuGiay.ten}}</p>
                                        <p>Loại đế: {{c.hoaDonChiTiet.chiTietSanPham.chatLieuDeGiay.ten}}</p>
                                    </div>
                                </div>
                            </td>
                            <td>{{c.hoaDonChiTiet.soLuong}}</td>
                            <td>{{c.hoaDonChiTiet.donGia | currency:'VND'}}</td>
                            <td>{{c.soLuong*c.donGia | currency:'VND'}}</td>
                        </tr>
                    </tbody>
                </table>
            </div>
            <div class="col-4 mb-5">
                <h2 class="mt-3">Thông tin thanh toán</h2>
                <hr>
                <h3><b>Tổng giá hàng gốc:</b> {{invoiceDetail.tongTien | currency:'VND'}}</h3>
                <h3 *ngIf="invoiceDetail.phieuGiamGia === null"><b>Voucher đã sử dụng:</b> </h3>
                <h3 *ngIf="invoiceDetail.phieuGiamGia.hinhThucGiamGia === false"><b>Voucher đã sử dụng:</b>
                    {{invoiceDetail.phieuGiamGia.chietKhau}}%</h3>
                <h3 *ngIf="invoiceDetail.phieuGiamGia.hinhThucGiamGia === true"><b>Voucher đã sử dụng:</b>
                    {{invoiceDetail.phieuGiamGia.chietKhau | currency:'VND'}}</h3>
                <h3><b>Phí vận chuyển:</b> {{invoiceDetail.phiVanChuyen | currency:'VND'}}</h3>
                <h3 *ngIf="traHang !== undefined"><b>Tổng giá hàng trả:</b> {{tongGiaHangTra | currency:'VND'}}</h3>
                <hr>
                <h3 *ngIf="traHang === undefined"><b>Tổng tiền thanh toán:</b> {{invoiceDetail.tongTienSauGiam + invoiceDetail.phiVanChuyen | currency:'VND'}}</h3>
                <h3 *ngIf="traHang !== undefined"><b>Tổng tiền thanh toán:</b> {{invoiceDetail.tongTienSauGiam | currency:'VND'}}</h3>
                <!-- <h3><b>Tổng tiền trả khách</b> {{tongTienTraKhach | currency:'VND'}}</h3> -->
                <h3><b class="text-danger">*</b>Ghi chú</h3>
                <textarea class="ghiChu w-100" value="{{invoiceDetail.ghiChu}}" disabled></textarea>
                <button class="btn btn-danger mt-2 w-100" >Đang giao hàng</button>
            </div>
        </div>
    </div>
    <div class="row mb-5"></div>
</div>

<!-- chi tiết đã hủy -->
<div class="container" *ngIf="invoiceDetail.trangThai === 6">
    <div class="row mt-3">
        <div class="d-flex justify-content-between">
            <h2>Chi tiết đơn hàng: {{invoiceDetail.maHoaDon}} | Chờ lấy hàng | {{invoiceDetail.ngayCapNhat}}</h2>
        </div>
    </div>
    <div class="row border" >
        <div class="row mt-3">
            <h2>Thông tin khách hàng</h2>
        </div>
        <div class="row">
            <div class="col-2 mt-2">
                <p>Tên khách hàng:</p>
                <p>Số điện thoại:</p>
                <p>Địa chỉ: </p>
                <p>Ghi chú:</p>
            </div>
            <div class="col-5 mt-2">
                <p>{{invoiceDetail.tenKhachHang}}</p>
                <p>{{invoiceDetail.soDienThoai}}</p>
                <p>{{invoiceDetail.diaChi}}, {{invoiceDetail.phuongXa}}, {{invoiceDetail.quanHuyen}}, {{invoiceDetail.tinhThanh}}</p>
                <p>{{invoiceDetail.ghiChu}}</p>
            </div>
            <div class="col-3 mt-2">
                <p>Ngày giao hàng:</p>
                <p>Trạng thái:</p>
                <p>Phương thức thanh toán: </p>
            </div>
            <div class="col-2 mt-2">
                <p>{{invoiceDetail.ngayCapNhat}}</p>
                <p *ngIf="invoiceDetail.trangThai === 1">Hoàn thành</p>
                <p *ngIf="invoiceDetail.trangThai === 2">Chờ xác nhận</p>
                <p *ngIf="invoiceDetail.trangThai === 3">Chờ lấy hàng</p>
                <p *ngIf="invoiceDetail.trangThai === 4">Đang giao hàng</p>
                <p *ngIf="invoiceDetail.trangThai === 5">Đã giao hàng</p>
                <p *ngIf="invoiceDetail.trangThai === 6">Đã hủy</p>
                <p *ngIf="invoiceDetail.phuongThucThanhToan === 0">Khi nhận hàng</p>
                <p *ngIf="invoiceDetail.phuongThucThanhToan === 1">Thanh toán VNpay</p>
            </div>
        </div>
    </div>
    <div class="row border mt-3 mb-5" >
        <div class="row">
            <div class="col-8">
                <h2 class="mt-3">Thông tin đơn hàng </h2>
                <hr>
                <table class="table table-hover">
                    <thead>
                        <tr>
                            <th scope="col">Sản phẩm</th>
                            <th scope="col">Số lượng</th>
                            <th scope="col">Đơn giá</th>
                            <th scope="col">Tổng tiền</th>
                            <th scope="col"></th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr *ngFor="let c of invoiceDetail.listHoaDonChiTiet; let i = index">
                            <td>
                                <div class="table-product-detail">
                                    <img class="table-image" src="{{c.chiTietSanPham.anhSanPhams[0]?.ten}}" alt="">
                                    <div>
                                        <p>Tên: {{c.chiTietSanPham.sanPham.ten}}</p>
                                        <p>Mã: {{c.chiTietSanPham.ma}}</p>
                                        <p>Size: {{c.chiTietSanPham.kichCo.size}}</p>
                                        <p>Màu sắc: {{c.chiTietSanPham.mauSac.ten}}</p>
                                        <p>Chất liệu: {{c.chiTietSanPham.chatLieuGiay.ten}}</p>
                                        <p>Loại đế: {{c.chiTietSanPham.chatLieuDeGiay.ten}}</p>
                                    </div>
                                </div>
                            </td>
                            <td>{{c.soLuong}} </td>
                            <td>{{c.donGia | currency:'VND'}}</td>
                            <td>{{c.soLuong*c.donGia | currency:'VND'}}</td>
                        </tr>
                    </tbody>
                </table>
            </div>
            <div class="col-4 mb-5">
                <h2 class="mt-3">Thông tin thanh toán</h2>
                <hr>
                <h3><b>Tổng giá hàng gốc:</b> {{invoiceDetail.tongTien | currency:'VND'}}</h3>
                <h3 *ngIf="invoiceDetail.phieuGiamGia === null"><b>Voucher đã sử dụng:</b> </h3>
                <h3 *ngIf="invoiceDetail.phieuGiamGia.hinhThucGiamGia === false"><b>Voucher đã sử dụng:</b>
                    {{invoiceDetail.phieuGiamGia.chietKhau}}%</h3>
                <h3 *ngIf="invoiceDetail.phieuGiamGia.hinhThucGiamGia === true"><b>Voucher đã sử dụng:</b>
                    {{invoiceDetail.phieuGiamGia.chietKhau | currency:'VND'}}</h3>
                <h3><b>Phí vận chuyển:</b> {{invoiceDetail.phiVanChuyen | currency:'VND'}}</h3>
                <h3><b>Tổng tiền thanh toán:</b> {{invoiceDetail.tongTienSauGiam + invoiceDetail.phiVanChuyen | currency:'VND'}}</h3>
                <!-- <h3><b>Tổng giá hàng trả:</b> {{tongGiaSanPhamTra | currency:'VND'}}</h3> -->
                <hr>
                <!-- <h3><b>Tổng tiền trả khách</b> {{tongTienTraKhach | currency:'VND'}}</h3> -->
                <h3><b class="text-danger">*</b>Ghi chú</h3>
                <textarea class="ghiChu w-100" value="{{invoiceDetail.ghiChu}}" disabled></textarea>
            </div>
        </div>
    </div>
    <div class="row mb-5"></div>
</div>


