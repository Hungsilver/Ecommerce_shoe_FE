<!-- dialog chờ xác nhận và hình thức thanh toán === 1 -->
<div class="container" *ngIf="openDialog===2 && invoice.phuongThucThanhToan === 1">
    <div class="content">
        <div class="invoice">
            <form class="" [formGroup]="form" (submit)="onSubmit()">
                <div class="row mt-3">
                    <div class="d-flex justify-content-between">
                        <h2>Chi tiết đơn hàng: {{invoice.maHoaDon}} | Chờ xác nhận</h2>
                        <div>
                            <button type="button" class="btn " (click)="closeDialog()">
                                <i class="pi pi-times" style="font-size: 1.5rem"></i>
                            </button>
                        </div>
                    </div>
                </div>
                <div class="row">
                    <div class="col-6">
                        <div class="row formInvoice">
                            <hr>
                            <div class="col-6 mb-3">
                                <h4 class="mt-3">Họ và Tên*</h4>
                                <input type="text" [value]="invoice.tenKhachHang" disabled class="form-control" />
                            </div>
                            <div class="col-6 mb-3">
                                <h4 class="mt-3">Số điện thoại*</h4>
                                <input type="text" [value]="invoice.soDienThoai" disabled class="form-control" />
                            </div>
                            <div class="col-6 mb-3">
                                <h4 class="mt-3">Tỉnh / Thành phố*</h4>
                                <input type="text" [value]="invoice.tinhThanh" disabled class="form-control" />
                            </div>
                            <div class="col-6 mb-3">
                                <h4 class="mt-3">Quận / Huyện*</h4>
                                <input type="text" [value]="invoice.quanHuyen" disabled class="form-control" />
                            </div>
                            <div class="col-6 mb-3">
                                <h4 class="mt-3">Xã / Phường*</h4>
                                <input type="text" [value]="invoice.phuongXa" disabled class="form-control" />
                            </div>
                            <div class="col-6 mb-3">
                                <h4 class="mt-3">Địa chỉ chi tiết*</h4>
                                <input type="text" [value]="invoice.diaChi" disabled class="form-control" />
                            </div>
                        </div>
                    </div>

                    <div class="col-6">
                        <div class="row invoiceDetail">
                            <hr>
                            <table class="table table-hover">
                                <thead>
                                    <tr>
                                        <th scope="col">Sản phẩm</th>
                                        <th scope="col">Số lượng</th>
                                        <th scope="col">Đơn giá</th>
                                        <th scope="col">Tổng tiền</th>
                                        <th scope="col"></th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <tr *ngFor="let c of invoice.listHoaDonChiTiet; let i = index">
                                        <td>
                                            <div class="table-product-detail">
                                                <img class="table-image" src="{{c.chiTietSanPham.anhSanPhams[0]?.ten}}"
                                                    alt="">
                                                <div>
                                                    <p>Tên: {{c.chiTietSanPham.sanPham.ten}}</p>
                                                    <p>Mã: {{c.chiTietSanPham.ma}}</p>
                                                    <p>Size: {{c.chiTietSanPham.kichCo.size}}</p>
                                                    <p>Màu sắc: {{c.chiTietSanPham.mauSac.ten}}</p>
                                                    <p>Chất liệu: {{c.chiTietSanPham.chatLieuGiay.ten}}</p>
                                                    <p>Loại đế: {{c.chiTietSanPham.chatLieuDeGiay.ten}}</p>
                                                </div>
                                            </div>
                                        </td>
                                        <td>
                                            {{c.soLuong  }}
                                        </td>
                                        <td>{{c.donGia | currency:'VND'}}</td>
                                        <td>{{c.soLuong*c.donGia | currency:'VND'}}</td>
                                        
                                    </tr>
                                </tbody>
                            </table>
                            <div class="row">
                                <div class="col-6">
                                    <h4>Tổng tiền đơn hàng:</h4>
                                </div>
                                <div class="col-6">
                                    <p style="margin-left: 77%;">{{invoice.tongTien | currency:'VND'}}</p>
                                </div>
                            </div>
                            <hr>
                            <div class="row">
                                <div class="col-6">
                                    <h4>Phí vận chuyển:</h4>
                                </div>
                                <div class="col-6">
                                    <p style="margin-left: 77%;">{{invoice.phiVanChuyen | currency:'VND'}}</p>
                                </div>
                            </div>
                            <hr>
                            <div class="row" *ngIf="invoice.phieuGiamGia !== null">
                                <div class="col-6">
                                    <h4>Voucher:</h4>
                                </div>
                                <div class="col-6">
                                    <div style="margin-left: 77%;" *ngIf="invoice.phieuGiamGia.hinhThucGiamGia===true">
                                        {{invoice.phieuGiamGia.chietKhau}}%</div>
                                    <div style="margin-left: 77%;" *ngIf="invoice.phieuGiamGia.hinhThucGiamGia===false">
                                        {{invoice.phieuGiamGia.chietKhau| currency:'VND'}}</div>
                                </div>
                            </div>
                            <hr *ngIf="invoice.phieuGiamGia !== null">
                            <div class="row">
                                <div class="col-6 mt-1">
                                    <h4>Đơn vị vận chuyển:</h4>
                                </div>
                                <div class="col-6">
                                    <img class="logoGHN"
                                        src="https://firebasestorage.googleapis.com/v0/b/duantotnghiep-7b9e5.appspot.com/o/images%2FLogo-GHN-Slogan-VN-768x280.png?alt=media&token=7b40de14-ece3-4841-a3f3-7472cb336e0c"
                                        alt="">
                                </div>
                            </div>
                            <hr>
                            <div class="row">
                                <div class="col-6 ">
                                    <h3>Phương thức thanh toán:</h3>
                                </div>
                                <div class="col-6">
                                    <div style="margin-left: 30%;" *ngIf="invoice.phuongThucThanhToan===1">Thanh toán
                                        VNPay</div>
                                    <div style="margin-left: 30%;" *ngIf="invoice.phuongThucThanhToan===0">Thanh toán
                                        khi nhận hàng</div>
                                </div>
                            </div>
                            <hr>
                            <div class="row">
                                <div class="col-6 ">
                                    <h3><b>Tổng thanh toán:</b></h3>
                                </div>
                                <div class="col-6 ">
                                    <h3 style="margin-left: 70%;"><b>{{invoice.tongTienSauGiam| currency:'VND'}}</b>
                                    </h3>
                                </div>
                            </div>
                            <hr>
                            <div class="row mb-5">
                                <div class="col-8">
                                </div>
                                <div class="col-4">
                                    <button  class="btn btn-danger ms-5" type="button" (click)="huyDon(invoice.id)">Hủy đơn</button>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

            </form>

        </div>
    </div>
</div>

<!-- dialog chờ xác nhận -->
<div class="container" *ngIf="openDialog===2 && invoice.phuongThucThanhToan === 0">
    <div class="content">
        <div class="invoice">
            <form class="" [formGroup]="form" (submit)="onSubmit()">
                <div class="row mt-3">
                    <div class="d-flex justify-content-between">
                        <h2>Chi tiết đơn hàng: {{invoice.maHoaDon}} | Chờ xác nhận</h2>
                        <div>
                            <button type="button" class="btn " (click)="closeDialog()">
                                <i class="pi pi-times" style="font-size: 1.5rem"></i>
                            </button>
                        </div>
                    </div>
                </div>
                <div class="row">
                    <div class="col-6">
                        <div class="row formInvoice">
                            <hr>
                            <div class="col-6 mb-3">
                                <h4 class="mt-3">Họ và Tên*</h4>
                                <input type="text" name="tenKhachHang" formControlName="tenKhachHang" class="form-control" />
                                <div class="text-danger" *ngIf="
                                  form.get('tenKhachHang')?.hasError('required') &&
                                  (form.touched || form.dirty)
                                ">
                                    *Vui lòng nhập thông tin!
                                </div>
                                <div class="text-danger" *ngIf="
                                  form.get('tenKhachHang')?.hasError('maxlength') &&
                                  (form.touched || form.dirty)
                                ">
                                *Vui lòng không nhập quá 50 ký tự!
                                </div>
                                <div class="text-danger" *ngIf="
                                  form.get('tenKhachHang')?.hasError('pattern') &&
                                  (form.touched || form.dirty)
                                ">
                                *Vui lòng nhập đúng định dạng!
                                </div>
                            </div>
                            <div class="col-6 mb-3">
                                <h4 class="mt-3">Số điện thoại*</h4>
                                <input type="text" formControlName="soDienThoai" class="form-control" required />
                                <div class="text-danger" *ngIf="
                                form.get('soDienThoai')?.hasError('required') &&
                                (form.touched || form.dirty)
                              ">
                                  *Vui lòng nhập thông tin!
                              </div>
                              <div class="text-danger" *ngIf="
                                form.get('soDienThoai')?.hasError('minlength') &&
                                (form.touched || form.dirty)
                              ">
                              *Vui lòng nhập đúng định dạng!
                              </div>
                              <div class="text-danger" *ngIf="
                                form.get('soDienThoai')?.hasError('maxlength') &&
                                (form.touched || form.dirty)
                              ">
                              *Vui lòng nhập đúng định dạng!
                              </div>
                              <div class="text-danger" *ngIf="
                                form.get('soDienThoai')?.hasError('pattern') &&
                                (form.touched || form.dirty)
                              ">
                              *Vui lòng nhập đúng định dạng!
                              </div>
                            </div>
                            <div class="col-6 mb-3">
                                <h4 class="mt-3">Tỉnh / Thành phố*</h4>
                                <select id="city" formControlName="tinhThanh"  (change)="onProvinceChange($event)"
                                    class="form-control" >
                                    <option *ngFor="let province of provinces"  [selected]="invoice.tinhThanh === province.ProvinceName" >{{province.ProvinceName}}</option>
                                </select>
                            </div>
                            <div class="col-6 mb-3">
                                <h4 class="mt-3">Quận / Huyện*</h4>
                                <select id="district" formControlName="quanHuyen"
                                    (change)="onDistrictChange($event)" class="form-control">
                                    <option *ngFor="let district of districts"   [selected]="invoice.quanHuyen === district.DistrictName">
                                        {{district.DistrictName}}</option>
                                </select>
                            </div>
                            <div class="col-6 mb-3">
                                <h4 class="mt-3">Xã / Phường*</h4>
                                <select id="ward" formControlName="phuongXa" (change)="onWardChange($event)"
                                    class="form-control" >
                                    <option *ngFor="let ward of wards"  [selected]="invoice.phuongXa === ward.WardName">
                                        {{ward.WardName}}</option>
                                </select>
                            </div>
                            <div class="col-6 mb-3">
                                <h4 class="mt-3">Địa chỉ chi tiết*</h4>
                                <input type="text" formControlName="diaChi" class="form-control" required />
                                <div class="text-danger" *ngIf="
                                form.get('diaChi')?.hasError('required') &&
                                (form.touched || form.dirty)
                              ">
                                  *Vui lòng nhập thông tin!
                              </div>
                              <div class="text-danger" *ngIf="
                                form.get('diaChi')?.hasError('maxlength') &&
                                (form.touched || form.dirty)
                              ">
                              *Vui lòng không nhập quá 100 ký tự!
                              </div>
                            </div>
                        </div>
                    </div>

                    <div class="col-6">
                        <div class="row invoiceDetail">
                            <hr>
                            <table class="table table-hover">
                                <thead>
                                    <tr>
                                        <th scope="col">Sản phẩm</th>
                                        <th scope="col">Số lượng</th>
                                        <th scope="col">Đơn giá</th>
                                        <th scope="col">Tổng tiền</th>
                                        <th scope="col"></th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <tr *ngFor="let c of invoice.listHoaDonChiTiet; let i = index">
                                        <td>
                                            <div class="table-product-detail">
                                                <img class="table-image" src="{{c.chiTietSanPham.anhSanPhams[0]?.ten}}"
                                                    alt="">
                                                <div>
                                                    <p>Tên: {{c.chiTietSanPham.sanPham.ten}}</p>
                                                    <p>Mã: {{c.chiTietSanPham.ma}}</p>
                                                    <p>Size: {{c.chiTietSanPham.kichCo.size}}</p>
                                                    <p>Màu sắc: {{c.chiTietSanPham.mauSac.ten}}</p>
                                                    <p>Chất liệu: {{c.chiTietSanPham.chatLieuGiay.ten}}</p>
                                                    <p>Loại đế: {{c.chiTietSanPham.chatLieuDeGiay.ten}}</p>
                                                </div>
                                            </div>
                                        </td>
                                        <td>
                                            <i class="pi pi-minus" (click)="giamSoLuong(i)" *ngIf="c.soLuong>=2" ></i>
                                            {{c.soLuong  }}
                                            <i class="pi pi-plus" (click)="tangSoLuong(i)" *ngIf="c.chiTietSanPham.soLuong > c.soLuong"></i>
                                        </td>
                                        <td>{{c.donGia | currency:'VND'}}</td>
                                        <td>{{c.soLuong*c.donGia | currency:'VND'}}</td>
                                        <td>
                                            <button type="button" class="btn " (click)="deleteProduct(c.id)">
                                                <i class="pi pi-times" ></i>
                                            </button>
                                        </td>
                                    </tr>
                                </tbody>
                            </table>
                            <div class="row">
                                <div class="col-6">
                                    <h4>Tổng tiền đơn hàng:</h4>
                                </div>
                                <div class="col-6">
                                    <p style="margin-left: 77%;">{{invoice.tongTien | currency:'VND'}}</p>
                                </div>
                            </div>
                            <hr>
                            <div class="row">
                                <div class="col-6">
                                    <h4>Phí vận chuyển:</h4>
                                </div>
                                <div class="col-6">
                                    <p style="margin-left: 77%;">{{invoice.phiVanChuyen | currency:'VND'}}</p>
                                </div>
                            </div>
                            <hr>
                            <div class="row" *ngIf="invoice.phieuGiamGia !== null">
                                <div class="col-6">
                                    <h4>Voucher:</h4>
                                </div>
                                <div class="col-6">
                                    <div style="margin-left: 77%;" *ngIf="invoice.phieuGiamGia.hinhThucGiamGia===true">
                                        {{invoice.phieuGiamGia.chietKhau}}%</div>
                                    <div style="margin-left: 77%;" *ngIf="invoice.phieuGiamGia.hinhThucGiamGia===false">
                                        {{invoice.phieuGiamGia.chietKhau| currency:'VND'}}</div>
                                </div>
                            </div>
                            <hr *ngIf="invoice.phieuGiamGia !== null">
                            <div class="row">
                                <div class="col-6 mt-1">
                                    <h4>Đơn vị vận chuyển:</h4>
                                </div>
                                <div class="col-6">
                                    <img class="logoGHN"
                                        src="https://firebasestorage.googleapis.com/v0/b/duantotnghiep-7b9e5.appspot.com/o/images%2FLogo-GHN-Slogan-VN-768x280.png?alt=media&token=7b40de14-ece3-4841-a3f3-7472cb336e0c"
                                        alt="">
                                </div>
                            </div>
                            <hr>
                            <div class="row">
                                <div class="col-6 ">
                                    <h3>Phương thức thanh toán:</h3>
                                </div>
                                <div class="col-6">
                                    <div style="margin-left: 30%;" *ngIf="invoice.phuongThucThanhToan===1">Thanh toán
                                        VNPay</div>
                                    <div style="margin-left: 30%;" *ngIf="invoice.phuongThucThanhToan===0">Thanh toán
                                        khi nhận hàng</div>
                                </div>
                            </div>
                            <hr>
                            <div class="row">
                                <div class="col-6 ">
                                    <h3><b>Tổng thanh toán:</b></h3>
                                </div>
                                <div class="col-6 ">
                                    <h3 style="margin-left: 70%;"><b>{{invoice.tongTienSauGiam| currency:'VND'}}</b>
                                    </h3>
                                </div>
                            </div>
                            <hr>
                            <div class="row mb-5">
                                <div class="col-8">
                                    <button class="btn btn-primary" type="submit">Cập nhật</button>
                                </div>
                                <div class="col-4">
                                    <button  class="btn btn-danger ms-5" type="button" (click)="huyDon(invoice.id)">Hủy đơn</button>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

            </form>

        </div>
    </div>
</div>


<!-- dialog chờ lấy hàng -->
<div class="container" *ngIf="openDialog===3">
    <div class="content">
        <div class="invoice">
            <form class="">
                <div class="row mt-3">
                    <div class="d-flex justify-content-between">
                        <h2>Chi tiết đơn hàng: {{invoice.maHoaDon}} | Chờ lấy hàng</h2>
                        <div>
                            <button type="button" class="btn " (click)="closeDialog()">
                                <i class="pi pi-times" style="font-size: 1.5rem"></i>
                            </button>
                        </div>
                    </div>
                </div>
                <div class="row">
                    <div class="col-6">
                        <div class="row formInvoice">
                            <hr>
                            <div class="col-6 mb-3">
                                <h4 class="mt-3">Họ và Tên*</h4>
                                <input type="text" [value]="invoice.tenKhachHang" disabled class="form-control" />
                            </div>
                            <div class="col-6 mb-3">
                                <h4 class="mt-3">Số điện thoại*</h4>
                                <input type="text" [value]="invoice.soDienThoai" disabled class="form-control" />
                            </div>
                            <div class="col-6 mb-3">
                                <h4 class="mt-3">Tỉnh / Thành phố*</h4>
                                <input type="text" [value]="invoice.tinhThanh" disabled class="form-control" />
                            </div>
                            <div class="col-6 mb-3">
                                <h4 class="mt-3">Quận / Huyện*</h4>
                                <input type="text" [value]="invoice.quanHuyen" disabled class="form-control" />
                            </div>
                            <div class="col-6 mb-3">
                                <h4 class="mt-3">Xã / Phường*</h4>
                                <input type="text" [value]="invoice.phuongXa" disabled class="form-control" />
                            </div>
                            <div class="col-6 mb-3">
                                <h4 class="mt-3">Địa chỉ chi tiết*</h4>
                                <input type="text" [value]="invoice.diaChi" disabled class="form-control" />
                            </div>
                        </div>
                    </div>

                    <div class="col-6">
                        <div class="row invoiceDetail">
                            <hr>
                            <table class="table table-hover">
                                <thead>
                                    <tr>
                                        <th scope="col">Sản phẩm</th>
                                        <th scope="col">Số lượng</th>
                                        <th scope="col">Đơn giá</th>
                                        <th scope="col">Tổng tiền</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <tr *ngFor="let c of invoice.listHoaDonChiTiet">
                                        <td>
                                            <div class="table-product-detail">
                                                <img class="table-image" src="{{c.chiTietSanPham.anhSanPhams[0]?.ten}}"
                                                    alt="">
                                                <div>
                                                    <p>Tên: {{c.chiTietSanPham.sanPham.ten}}</p>
                                                    <p>Mã: {{c.chiTietSanPham.ma}}</p>
                                                    <p>Size: {{c.chiTietSanPham.kichCo.size}}</p>
                                                    <p>Màu sắc: {{c.chiTietSanPham.mauSac.ten}}</p>
                                                    <p>Chất liệu: {{c.chiTietSanPham.chatLieuGiay.ten}}</p>
                                                    <p>Loại đế: {{c.chiTietSanPham.chatLieuDeGiay.ten}}</p>
                                                </div>
                                            </div>
                                        </td>
                                        <td>{{c.soLuong }}</td>
                                        <td>{{c.donGia | currency:'VND'}}</td>
                                        <td>{{c.soLuong*c.donGia | currency:'VND'}}</td>
                                    </tr>
                                </tbody>
                            </table>
                            <div class="row">
                                <div class="col-6">
                                    <h4>Tổng tiền đơn hàng:</h4>
                                </div>
                                <div class="col-6">
                                    <p style="margin-left: 77%;">{{invoice.tongTien | currency:'VND'}}</p>
                                </div>
                            </div>
                            <hr>
                            <div class="row">
                                <div class="col-6">
                                    <h4>Phí vận chuyển:</h4>
                                </div>
                                <div class="col-6">
                                    <p style="margin-left: 77%;">{{invoice.phiVanChuyen | currency:'VND'}}</p>
                                </div>
                            </div>
                            <hr>
                            <div class="row" *ngIf="invoice.phieuGiamGia !== null">
                                <div class="col-6">
                                    <h4>Voucher:</h4>
                                </div>
                                <div class="col-6">
                                    <div style="margin-left: 77%;" *ngIf="invoice.phieuGiamGia.hinhThucGiamGia===true">
                                        {{invoice.phieuGiamGia.chietKhau}}%</div>
                                    <div style="margin-left: 77%;" *ngIf="invoice.phieuGiamGia.hinhThucGiamGia===false">
                                        {{invoice.phieuGiamGia.chietKhau| currency:'VND'}}</div>
                                </div>
                            </div>
                            <hr *ngIf="invoice.phieuGiamGia !== null">
                            <div class="row">
                                <div class="col-6 mt-1">
                                    <h4>Đơn vị vận chuyển:</h4>
                                </div>
                                <div class="col-6">
                                    <img class="logoGHN"
                                        src="https://firebasestorage.googleapis.com/v0/b/duantotnghiep-7b9e5.appspot.com/o/images%2FLogo-GHN-Slogan-VN-768x280.png?alt=media&token=7b40de14-ece3-4841-a3f3-7472cb336e0c"
                                        alt="">
                                </div>
                            </div>
                            <hr>
                            <div class="row">
                                <div class="col-6 ">
                                    <h3>Phương thức thanh toán:</h3>
                                </div>
                                <div class="col-6">
                                    <div style="margin-left: 30%;" *ngIf="invoice.phuongThucThanhToan===1">Thanh toán
                                        VNPay</div>
                                    <div style="margin-left: 30%;" *ngIf="invoice.phuongThucThanhToan===0">Thanh toán
                                        khi nhận hàng</div>
                                </div>
                            </div>
                            <hr>
                            <div class="row">
                                <div class="col-6 ">
                                    <h3><b>Tổng thanh toán:</b></h3>
                                </div>
                                <div class="col-6 ">
                                    <h3 style="margin-left: 70%;"><b>{{invoice.tongTienSauGiam| currency:'VND'}}</b>
                                    </h3>
                                </div>
                            </div>
                            <hr>
                        </div>
                    </div>
                </div>

            </form>

        </div>
    </div>
</div>

<!-- dialog chờ giao hàng -->
<div class="container" *ngIf="openDialog===4">
    <div class="content">
        <div class="invoice">
            <form class="">
                <div class="row mt-3">
                    <div class="d-flex justify-content-between">
                        <h2>Chi tiết đơn hàng: {{invoice.maHoaDon}} | Chờ giao hàng</h2>
                        <div>
                            <button type="button" class="btn " (click)="closeDialog()">
                                <i class="pi pi-times" style="font-size: 1.5rem"></i>
                            </button>
                        </div>
                    </div>
                </div>
                <div class="row">
                    <div class="col-6">
                        <div class="row formInvoice">
                            <!-- <h2 class="mt-5">Chi tiết hóa đơn</h2> -->
                            <hr>
                            <div class="col-6 mb-3">
                                <h4 class="mt-3">Họ và Tên*</h4>
                                <input type="text" [value]="invoice.tenKhachHang" disabled class="form-control" />
                            </div>
                            <div class="col-6 mb-3">
                                <h4 class="mt-3">Số điện thoại*</h4>
                                <input type="text" [value]="invoice.soDienThoai" disabled class="form-control" />
                            </div>
                            <div class="col-6 mb-3">
                                <h4 class="mt-3">Tỉnh / Thành phố*</h4>
                                <input type="text" [value]="invoice.tinhThanh" disabled class="form-control" />
                            </div>
                            <div class="col-6 mb-3">
                                <h4 class="mt-3">Quận / Huyện*</h4>
                                <input type="text" [value]="invoice.quanHuyen" disabled class="form-control" />
                            </div>
                            <div class="col-6 mb-3">
                                <h4 class="mt-3">Xã / Phường*</h4>
                                <input type="text" [value]="invoice.phuongXa" disabled class="form-control" />
                            </div>
                            <div class="col-6 mb-3">
                                <h4 class="mt-3">Địa chỉ chi tiết*</h4>
                                <input type="text" [value]="invoice.diaChi" disabled class="form-control" />
                            </div>
                        </div>
                    </div>

                    <div class="col-6">
                        <div class="row invoiceDetail">
                            <hr>
                            <table class="table table-hover">
                                <thead>
                                    <tr>
                                        <th scope="col">Sản phẩm</th>
                                        <th scope="col">Số lượng</th>
                                        <th scope="col">Đơn giá</th>
                                        <th scope="col">Tổng tiền</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <tr *ngFor="let c of invoice.listHoaDonChiTiet">
                                        <td>
                                            <div class="table-product-detail">
                                                <img class="table-image" src="{{c.chiTietSanPham.anhSanPhams[0]?.ten}}"
                                                    alt="">
                                                <div>
                                                    <p>Tên: {{c.chiTietSanPham.sanPham.ten}}</p>
                                                    <p>Mã: {{c.chiTietSanPham.ma}}</p>
                                                    <p>Size: {{c.chiTietSanPham.kichCo.size}}</p>
                                                    <p>Màu sắc: {{c.chiTietSanPham.mauSac.ten}}</p>
                                                    <p>Chất liệu: {{c.chiTietSanPham.chatLieuGiay.ten}}</p>
                                                    <p>Loại đế: {{c.chiTietSanPham.chatLieuDeGiay.ten}}</p>
                                                </div>
                                            </div>
                                        </td>
                                        <td>{{c.soLuong }}</td>
                                        <td>{{c.donGia | currency:'VND'}}</td>
                                        <td>{{c.soLuong*c.donGia | currency:'VND'}}</td>
                                    </tr>
                                </tbody>
                            </table>
                            <div class="row">
                                <div class="col-6">
                                    <h4>Tổng tiền đơn hàng:</h4>
                                </div>
                                <div class="col-6">
                                    <p style="margin-left: 77%;">{{invoice.tongTien | currency:'VND'}}</p>
                                </div>
                            </div>
                            <hr>
                            <div class="row">
                                <div class="col-6">
                                    <h4>Phí vận chuyển:</h4>
                                </div>
                                <div class="col-6">
                                    <p style="margin-left: 77%;">{{invoice.phiVanChuyen | currency:'VND'}}</p>
                                </div>
                            </div>
                            <hr>
                            <div class="row" *ngIf="invoice.phieuGiamGia !== null">
                                <div class="col-6">
                                    <h4>Voucher:</h4>
                                </div>
                                <div class="col-6">
                                    <div style="margin-left: 77%;" *ngIf="invoice.phieuGiamGia.hinhThucGiamGia===true">
                                        {{invoice.phieuGiamGia.chietKhau}}%</div>
                                    <div style="margin-left: 77%;" *ngIf="invoice.phieuGiamGia.hinhThucGiamGia===false">
                                        {{invoice.phieuGiamGia.chietKhau| currency:'VND'}}</div>
                                </div>
                            </div>
                            <hr *ngIf="invoice.phieuGiamGia !== null">
                            <div class="row">
                                <div class="col-6 mt-1">
                                    <h4>Đơn vị vận chuyển:</h4>
                                </div>
                                <div class="col-6">
                                    <img class="logoGHN"
                                        src="https://firebasestorage.googleapis.com/v0/b/duantotnghiep-7b9e5.appspot.com/o/images%2FLogo-GHN-Slogan-VN-768x280.png?alt=media&token=7b40de14-ece3-4841-a3f3-7472cb336e0c"
                                        alt="">
                                </div>
                            </div>
                            <hr>
                            <div class="row">
                                <div class="col-6 ">
                                    <h3>Phương thức thanh toán:</h3>
                                </div>
                                <div class="col-6">
                                    <div style="margin-left: 30%;" *ngIf="invoice.phuongThucThanhToan===1">Thanh toán
                                        VNPay</div>
                                    <div style="margin-left: 30%;" *ngIf="invoice.phuongThucThanhToan===0">Thanh toán
                                        khi nhận hàng</div>
                                </div>
                            </div>
                            <hr>
                            <div class="row">
                                <div class="col-6 ">
                                    <h3><b>Tổng thanh toán:</b></h3>
                                </div>
                                <div class="col-6 ">
                                    <h3 style="margin-left: 70%;"><b>{{invoice.tongTienSauGiam| currency:'VND'}}</b>
                                    </h3>
                                </div>
                            </div>
                            <hr>
                        </div>
                    </div>
                </div>

            </form>

        </div>
    </div>
</div>

<!-- dialog đã giao hàng -->
<div class="container" *ngIf="openDialog===5">
    <div class="content">
        <div class="invoice">
            <form class="">
                <div class="row mt-3">
                    <div class="d-flex justify-content-between">
                        <h2>Chi tiết đơn hàng: {{invoice.maHoaDon}} | Đã giao hàng</h2>
                        <div>
                            <button type="button" class="btn " (click)="closeDialog()">
                                <i class="pi pi-times" style="font-size: 1.5rem"></i>
                            </button>
                        </div>
                    </div>
                </div>
                <div class="row">
                    <div class="col-6">
                        <div class="row formInvoice">
                            <!-- <h2 class="mt-5">Chi tiết hóa đơn</h2> -->
                            <hr>
                            <div class="col-6 mb-3">
                                <h4 class="mt-3">Họ và Tên*</h4>
                                <input type="text" [value]="invoice.tenKhachHang" disabled class="form-control" />
                            </div>
                            <div class="col-6 mb-3">
                                <h4 class="mt-3">Số điện thoại*</h4>
                                <input type="text" [value]="invoice.soDienThoai" disabled class="form-control" />
                            </div>
                            <div class="col-6 mb-3">
                                <h4 class="mt-3">Tỉnh / Thành phố*</h4>
                                <input type="text" [value]="invoice.tinhThanh" disabled class="form-control" />
                            </div>
                            <div class="col-6 mb-3">
                                <h4 class="mt-3">Quận / Huyện*</h4>
                                <input type="text" [value]="invoice.quanHuyen" disabled class="form-control" />
                            </div>
                            <div class="col-6 mb-3">
                                <h4 class="mt-3">Xã / Phường*</h4>
                                <input type="text" [value]="invoice.phuongXa" disabled class="form-control" />
                            </div>
                            <div class="col-6 mb-3">
                                <h4 class="mt-3">Địa chỉ chi tiết*</h4>
                                <input type="text" [value]="invoice.diaChi" disabled class="form-control" />
                            </div>
                        </div>
                    </div>

                    <div class="col-6">
                        <div class="row invoiceDetail">
                            <hr>
                            <table class="table table-hover">
                                <thead>
                                    <tr>
                                        <th scope="col">Sản phẩm</th>
                                        <th scope="col">Số lượng</th>
                                        <th scope="col">Đơn giá</th>
                                        <th scope="col">Tổng tiền</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <tr *ngFor="let c of invoice.listHoaDonChiTiet">
                                        <td>
                                            <div class="table-product-detail">
                                                <img class="table-image" src="{{c.chiTietSanPham.anhSanPhams[0]?.ten}}"
                                                    alt="">
                                                <div>
                                                    <p>Tên: {{c.chiTietSanPham.sanPham.ten}}</p>
                                                    <p>Mã: {{c.chiTietSanPham.ma}}</p>
                                                    <p>Size: {{c.chiTietSanPham.kichCo.size}}</p>
                                                    <p>Màu sắc: {{c.chiTietSanPham.mauSac.ten}}</p>
                                                    <p>Chất liệu: {{c.chiTietSanPham.chatLieuGiay.ten}}</p>
                                                    <p>Loại đế: {{c.chiTietSanPham.chatLieuDeGiay.ten}}</p>
                                                </div>
                                            </div>
                                        </td>
                                        <td>{{c.soLuong }}</td>
                                        <td>{{c.donGia | currency:'VND'}}</td>
                                        <td>{{c.soLuong*c.donGia | currency:'VND'}}</td>
                                    </tr>
                                </tbody>
                            </table>
                            <div class="row">
                                <div class="col-6">
                                    <h4>Tổng tiền đơn hàng:</h4>
                                </div>
                                <div class="col-6">
                                    <p style="margin-left: 77%;">{{invoice.tongTien | currency:'VND'}}</p>
                                </div>
                            </div>
                            <hr>
                            <div class="row">
                                <div class="col-6">
                                    <h4>Phí vận chuyển:</h4>
                                </div>
                                <div class="col-6">
                                    <p style="margin-left: 77%;">{{invoice.phiVanChuyen | currency:'VND'}}</p>
                                </div>
                            </div>
                            <hr>
                            <div class="row" *ngIf="invoice.phieuGiamGia !== null">
                                <div class="col-6">
                                    <h4>Voucher:</h4>
                                </div>
                                <div class="col-6">
                                    <div style="margin-left: 77%;" *ngIf="invoice.phieuGiamGia.hinhThucGiamGia===true">
                                        {{invoice.phieuGiamGia.chietKhau}}%</div>
                                    <div style="margin-left: 77%;" *ngIf="invoice.phieuGiamGia.hinhThucGiamGia===false">
                                        {{invoice.phieuGiamGia.chietKhau| currency:'VND'}}</div>
                                </div>
                            </div>
                            <hr *ngIf="invoice.phieuGiamGia !== null">
                            <div class="row">
                                <div class="col-6 mt-1">
                                    <h4>Đơn vị vận chuyển:</h4>
                                </div>
                                <div class="col-6">
                                    <img class="logoGHN"
                                        src="https://firebasestorage.googleapis.com/v0/b/duantotnghiep-7b9e5.appspot.com/o/images%2FLogo-GHN-Slogan-VN-768x280.png?alt=media&token=7b40de14-ece3-4841-a3f3-7472cb336e0c"
                                        alt="">
                                </div>
                            </div>
                            <hr>
                            <div class="row">
                                <div class="col-6 ">
                                    <h3>Phương thức thanh toán:</h3>
                                </div>
                                <div class="col-6">
                                    <div style="margin-left: 30%;" *ngIf="invoice.phuongThucThanhToan===1">Thanh toán
                                        VNPay</div>
                                    <div style="margin-left: 30%;" *ngIf="invoice.phuongThucThanhToan===0">Thanh toán
                                        khi nhận hàng</div>
                                </div>
                            </div>
                            <hr>
                            <div class="row">
                                <div class="col-6 ">
                                    <h3><b>Tổng thanh toán:</b></h3>
                                </div>
                                <div class="col-6 ">
                                    <h3 style="margin-left: 70%;"><b>{{invoice.tongTienSauGiam| currency:'VND'}}</b>
                                    </h3>
                                </div>
                            </div>
                            <hr>
                        </div>
                    </div>
                </div>

            </form>

        </div>
    </div>
</div>

<!-- dialog đã hủy đơn -->
<div class="container" *ngIf="openDialog===6">
    <div class="content">
        <div class="invoice">
            <form class="">
                <div class="row mt-3">
                    <div class="d-flex justify-content-between">
                        <h2>Chi tiết đơn hàng: {{invoice.maHoaDon}} | Đã hủy</h2>
                        <div>
                            <button type="button" class="btn " (click)="closeDialog()">
                                <i class="pi pi-times" style="font-size: 1.5rem"></i>
                            </button>
                        </div>
                    </div>
                </div>
                <div class="row">
                    <div class="col-6">
                        <div class="row formInvoice">
                            <!-- <h2 class="mt-5">Chi tiết hóa đơn</h2> -->
                            <hr>
                            <div class="col-6 mb-3">
                                <h4 class="mt-3">Họ và Tên*</h4>
                                <input type="text" [value]="invoice.tenKhachHang" disabled class="form-control" />
                            </div>
                            <div class="col-6 mb-3">
                                <h4 class="mt-3">Số điện thoại*</h4>
                                <input type="text" [value]="invoice.soDienThoai" disabled class="form-control" />
                            </div>
                            <div class="col-6 mb-3">
                                <h4 class="mt-3">Tỉnh / Thành phố*</h4>
                                <input type="text" [value]="invoice.tinhThanh" disabled class="form-control" />
                            </div>
                            <div class="col-6 mb-3">
                                <h4 class="mt-3">Quận / Huyện*</h4>
                                <input type="text" [value]="invoice.quanHuyen" disabled class="form-control" />
                            </div>
                            <div class="col-6 mb-3">
                                <h4 class="mt-3">Xã / Phường*</h4>
                                <input type="text" [value]="invoice.phuongXa" disabled class="form-control" />
                            </div>
                            <div class="col-6 mb-3">
                                <h4 class="mt-3">Địa chỉ chi tiết*</h4>
                                <input type="text" [value]="invoice.diaChi" disabled class="form-control" />
                            </div>
                        </div>
                    </div>

                    <div class="col-6">
                        <div class="row invoiceDetail">
                            <hr>
                            <table class="table table-hover">
                                <thead>
                                    <tr>
                                        <th scope="col">Sản phẩm</th>
                                        <th scope="col">Số lượng</th>
                                        <th scope="col">Đơn giá</th>
                                        <th scope="col">Tổng tiền</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <tr *ngFor="let c of invoice.listHoaDonChiTiet">
                                        <td>
                                            <div class="table-product-detail">
                                                <img class="table-image" src="{{c.chiTietSanPham.anhSanPhams[0]?.ten}}"
                                                    alt="">
                                                <div>
                                                    <p>Tên: {{c.chiTietSanPham.sanPham.ten}}</p>
                                                    <p>Mã: {{c.chiTietSanPham.ma}}</p>
                                                    <p>Size: {{c.chiTietSanPham.kichCo.size}}</p>
                                                    <p>Màu sắc: {{c.chiTietSanPham.mauSac.ten}}</p>
                                                    <p>Chất liệu: {{c.chiTietSanPham.chatLieuGiay.ten}}</p>
                                                    <p>Loại đế: {{c.chiTietSanPham.chatLieuDeGiay.ten}}</p>
                                                </div>
                                            </div>
                                        </td>
                                        <td>{{c.soLuong }}</td>
                                        <td>{{c.donGia | currency:'VND'}}</td>
                                        <td>{{c.soLuong*c.donGia | currency:'VND'}}</td>
                                    </tr>
                                </tbody>
                            </table>
                            <div class="row">
                                <div class="col-6">
                                    <h4>Tổng tiền đơn hàng:</h4>
                                </div>
                                <div class="col-6">
                                    <p style="margin-left: 77%;">{{invoice.tongTien | currency:'VND'}}</p>
                                </div>
                            </div>
                            <hr>
                            <div class="row">
                                <div class="col-6">
                                    <h4>Phí vận chuyển:</h4>
                                </div>
                                <div class="col-6">
                                    <p style="margin-left: 77%;">{{invoice.phiVanChuyen | currency:'VND'}}</p>
                                </div>
                            </div>
                            <hr>
                            <div class="row" *ngIf="invoice.phieuGiamGia !== null">
                                <div class="col-6">
                                    <h4>Voucher:</h4>
                                </div>
                                <div class="col-6">
                                    <div style="margin-left: 77%;" *ngIf="invoice.phieuGiamGia.hinhThucGiamGia===true">
                                        {{invoice.phieuGiamGia.chietKhau}}%</div>
                                    <div style="margin-left: 77%;" *ngIf="invoice.phieuGiamGia.hinhThucGiamGia===false">
                                        {{invoice.phieuGiamGia.chietKhau| currency:'VND'}}</div>
                                </div>
                            </div>
                            <hr *ngIf="invoice.phieuGiamGia !== null">
                            <div class="row">
                                <div class="col-6 mt-1">
                                    <h4>Đơn vị vận chuyển:</h4>
                                </div>
                                <div class="col-6">
                                    <img class="logoGHN"
                                        src="https://firebasestorage.googleapis.com/v0/b/duantotnghiep-7b9e5.appspot.com/o/images%2FLogo-GHN-Slogan-VN-768x280.png?alt=media&token=7b40de14-ece3-4841-a3f3-7472cb336e0c"
                                        alt="">
                                </div>
                            </div>
                            <hr>
                            <div class="row">
                                <div class="col-6 ">
                                    <h3>Phương thức thanh toán:</h3>
                                </div>
                                <div class="col-6">
                                    <div style="margin-left: 30%;" *ngIf="invoice.phuongThucThanhToan===1">Thanh toán
                                        VNPay</div>
                                    <div style="margin-left: 30%;" *ngIf="invoice.phuongThucThanhToan===0">Thanh toán
                                        khi nhận hàng</div>
                                </div>
                            </div>
                            <hr>
                            <div class="row">
                                <div class="col-6 ">
                                    <h3><b>Tổng thanh toán:</b></h3>
                                </div>
                                <div class="col-6 ">
                                    <h3 style="margin-left: 70%;"><b>{{invoice.tongTienSauGiam| currency:'VND'}}</b>
                                    </h3>
                                </div>
                            </div>
                            <hr>
                        </div>
                    </div>
                </div>

            </form>

        </div>
    </div>
</div>